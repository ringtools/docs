{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"RingTools A set of tools which help to set up and manage Rings of Fire, a concept of Bitcoin Lightning Networks.","title":"Home"},{"location":"#ringtools","text":"A set of tools which help to set up and manage Rings of Fire, a concept of Bitcoin Lightning Networks.","title":"RingTools"},{"location":"faq/","text":"Frequently asked questions How many sats do I need to open a channel when joining a ring? Since you also need some sats to open, close and perhaps reopen a channel it is recommended to have at least 40.000 sats in your wallet on top of the amount of sats you need to open your channel. That means if you participate in a 500.000 sats ring, have 540.000 sats in your on-chain wallet. Why is the channel size of my channel lower than the amount I entered when opening? In the channel overview of Umbrel, after opening the commit fee is deducted from the full capacity. This is better explained as a reservation of the on-chain fees when the channel is closed unilaterally. Why can't I spend or receive the full amount visible on one side of a channel? A fixed amount (often 1% by default) is reserved on each side on the channel in the case you need to force-close a channel.","title":"Frequently asked questions"},{"location":"faq/#frequently-asked-questions","text":"","title":"Frequently asked questions"},{"location":"faq/#how-many-sats-do-i-need-to-open-a-channel-when-joining-a-ring","text":"Since you also need some sats to open, close and perhaps reopen a channel it is recommended to have at least 40.000 sats in your wallet on top of the amount of sats you need to open your channel. That means if you participate in a 500.000 sats ring, have 540.000 sats in your on-chain wallet.","title":"How many sats do I need to open a channel when joining a ring?"},{"location":"faq/#why-is-the-channel-size-of-my-channel-lower-than-the-amount-i-entered-when-opening","text":"In the channel overview of Umbrel, after opening the commit fee is deducted from the full capacity. This is better explained as a reservation of the on-chain fees when the channel is closed unilaterally.","title":"Why is the channel size of my channel lower than the amount I entered when opening?"},{"location":"faq/#why-cant-i-spend-or-receive-the-full-amount-visible-on-one-side-of-a-channel","text":"A fixed amount (often 1% by default) is reserved on each side on the channel in the case you need to force-close a channel.","title":"Why can't I spend or receive the full amount visible on one side of a channel?"},{"location":"ringtools-cli/","text":"Installation and usage Check out the repo of @StijnBTC/Ringtools for the most recent usage instructions. Installation Open your SSH client and log into your node Update pip to be sure pip3 install --upgrade pip Clone this repository git clone https://github.com/StijnBTC/Ringtools Navigate to the right folder cd Ringtools Install the requirements pip3 install -r requirements.txt Usage Put all public keys and telegram usernames, separated with a comma in pubkeys.txt Run checkring functionality with write to create channels.txt python3 ringtools.py check --write-channels Run Ringtools python3 ringtools.py -f -l status (When you're ready, hit Ctrl+C) Instructions for use with c-lightning RingTools-CLI uses LND by default. To use c-lightning add --client cl as argument. If you don't have the RPC unix at the default location use the --clrpc /path/to/lightning-rpc argument. The channel format is different when using C-lightning, but if you use the pubkeys.txt file this should not matter.","title":"Installation and usage"},{"location":"ringtools-cli/#installation-and-usage","text":"Check out the repo of @StijnBTC/Ringtools for the most recent usage instructions.","title":"Installation and usage"},{"location":"ringtools-cli/#installation","text":"Open your SSH client and log into your node Update pip to be sure pip3 install --upgrade pip Clone this repository git clone https://github.com/StijnBTC/Ringtools Navigate to the right folder cd Ringtools Install the requirements pip3 install -r requirements.txt","title":"Installation"},{"location":"ringtools-cli/#usage","text":"Put all public keys and telegram usernames, separated with a comma in pubkeys.txt Run checkring functionality with write to create channels.txt python3 ringtools.py check --write-channels Run Ringtools python3 ringtools.py -f -l status (When you're ready, hit Ctrl+C)","title":"Usage"},{"location":"ringtools-cli/#instructions-for-use-with-c-lightning","text":"RingTools-CLI uses LND by default. To use c-lightning add --client cl as argument. If you don't have the RPC unix at the default location use the --clrpc /path/to/lightning-rpc argument. The channel format is different when using C-lightning, but if you use the pubkeys.txt file this should not matter.","title":"Instructions for use with c-lightning"},{"location":"ringtools-web-public/","text":"Public instance There is a public instance available at rof.tools . Although it does have channels, it is probably not part of the Ring of Fire you are leading or participating in so gossip might be slower. Manual import node information from Cheeserobot Make sure Cheeserobot is in the ring channel Say /groupnodes@cheeserobot Download the .csv file Open it in a text editor (don't open it in a spreadsheet like Excel or Numbers) Select all and copy to clipboard, including headers. Go to the settings page of Ringtools-Web Paste the clipboard contents to the Import area. Press Import Groupnodes button. You should now see the node information on the right side. Set a Ringname Click Save Ring Settings to persist to the browsers localstorage You are now ready to use the Design and Watch parts of Ringtools-Web","title":"Public instance"},{"location":"ringtools-web-public/#public-instance","text":"There is a public instance available at rof.tools . Although it does have channels, it is probably not part of the Ring of Fire you are leading or participating in so gossip might be slower.","title":"Public instance"},{"location":"ringtools-web-public/#manual-import-node-information-from-cheeserobot","text":"Make sure Cheeserobot is in the ring channel Say /groupnodes@cheeserobot Download the .csv file Open it in a text editor (don't open it in a spreadsheet like Excel or Numbers) Select all and copy to clipboard, including headers. Go to the settings page of Ringtools-Web Paste the clipboard contents to the Import area. Press Import Groupnodes button. You should now see the node information on the right side. Set a Ringname Click Save Ring Settings to persist to the browsers localstorage You are now ready to use the Design and Watch parts of Ringtools-Web","title":"Manual import node information from Cheeserobot"},{"location":"tg/admins/","text":"For admins Ring Wizard The ring wizard automates the channel setup, just use /start_ring_wizard and follow the steps. Manually set up Telegram channel Create channel group, set name and invite @ringtools_bot . Set name and size: /set_name [RingName] (e.g.) /set_name #SRROF_1Msats_21stRING /set_size [RingSize] (e.g.) /set_size 1000000 Get channel logo: /ring_group_logo_update (It should automatically detect size and number from the Ring Name). Create ringleader poll: /poll_ringleader Set autoclean (optional): /set_autoclean cmd true (Removes bot commands by others after 1 minute) /set_autoclean self true (Removes bot response after 1 minute) (Optional) Post welcome message /post_message welcome (Optional) Set user greeting /set_greeting (Optional) Enable user greeting /ring_greet true 900 (900 seconds is 15 minutes) (Optional) Change ring group channel name /update_name Opening channels (Optional) reorder participats with /set_order [PubKeysContents] (after reordering, download pubkeys.txt from ringtools-web ) Share ring visual from the watch page of ringtools-web Let know who has to open with who /ring_channels long Set the channel message to auto update with /set_ring_mode opening_channels Get ring visual /ring_visual","title":"For admins"},{"location":"tg/admins/#for-admins","text":"","title":"For admins"},{"location":"tg/admins/#ring-wizard","text":"The ring wizard automates the channel setup, just use /start_ring_wizard and follow the steps.","title":"Ring Wizard"},{"location":"tg/admins/#manually-set-up-telegram-channel","text":"Create channel group, set name and invite @ringtools_bot . Set name and size: /set_name [RingName] (e.g.) /set_name #SRROF_1Msats_21stRING /set_size [RingSize] (e.g.) /set_size 1000000 Get channel logo: /ring_group_logo_update (It should automatically detect size and number from the Ring Name). Create ringleader poll: /poll_ringleader Set autoclean (optional): /set_autoclean cmd true (Removes bot commands by others after 1 minute) /set_autoclean self true (Removes bot response after 1 minute) (Optional) Post welcome message /post_message welcome (Optional) Set user greeting /set_greeting (Optional) Enable user greeting /ring_greet true 900 (900 seconds is 15 minutes) (Optional) Change ring group channel name /update_name","title":"Manually set up Telegram channel"},{"location":"tg/admins/#opening-channels","text":"(Optional) reorder participats with /set_order [PubKeysContents] (after reordering, download pubkeys.txt from ringtools-web ) Share ring visual from the watch page of ringtools-web Let know who has to open with who /ring_channels long Set the channel message to auto update with /set_ring_mode opening_channels Get ring visual /ring_visual","title":"Opening channels"},{"location":"tg/convenience/","text":"Convenience features All convenience features are optional to use. The bot will not announce your registration in public channels. Remember country You can say /set_country [2-letter country code] in a DM to @ringtools_bot , so you don't have type this every time you join a ring. Show flag in participation list After setting your country in a DM with @ringtools_bot you can show the country you are from in the participation lists, you can enable visibility with /country_visible . Saying it again will toggle it off again. Remember (multiple) nodes You can register your node after verification so you don't have to type your public key after saying /participate . Say /add_node in a DM to @ringtools_bot and follow the wizard. Next time you do /participate in a ring you can select your node using buttons, if you have multiple nodes then multiple buttons will be shown. See the video below too see it in action. Your browser does not support the video tag.","title":"Convenience features"},{"location":"tg/convenience/#convenience-features","text":"All convenience features are optional to use. The bot will not announce your registration in public channels.","title":"Convenience features"},{"location":"tg/convenience/#remember-country","text":"You can say /set_country [2-letter country code] in a DM to @ringtools_bot , so you don't have type this every time you join a ring.","title":"Remember country"},{"location":"tg/convenience/#show-flag-in-participation-list","text":"After setting your country in a DM with @ringtools_bot you can show the country you are from in the participation lists, you can enable visibility with /country_visible . Saying it again will toggle it off again.","title":"Show flag in participation list"},{"location":"tg/convenience/#remember-multiple-nodes","text":"You can register your node after verification so you don't have to type your public key after saying /participate . Say /add_node in a DM to @ringtools_bot and follow the wizard. Next time you do /participate in a ring you can select your node using buttons, if you have multiple nodes then multiple buttons will be shown. See the video below too see it in action. Your browser does not support the video tag.","title":"Remember (multiple) nodes"},{"location":"tg/overview/","text":"Overview The RingTools Telegram-bot is currently main supporting the Satoshi Radio / Connect the World Rings of Fire and therefore mainly suited as support for the process they are using. It is still is early development so commands might change. Public commands /ping - Check if I'm alive. /donate [Sats] [Message] - Donate to Ringtools-Web Development /fullnodeaddress [PubKey] - Get full address of lightning node /nodeinfo [PubKey] - Get Lightning node info /chaninfo [ChannelID] - Get Lightning channel info Ring-group commands For all ring participants /ringurl - Get ring-specific link for Ringtools-Web /ring_channels - Get overview of channels /node_overview_csv - Export Groupnodes CSV /node_overview - Ring participant overview For individual ring participants /participate [PubKey] - Join this ring (if you don't have any channels, use your full node URI) /unparticipate - Leave this ring /set_funded - Confirm you are funded /set_country [CountryCode] - Set your country to #connect_the_world (e.g. NL or US) /unparticipate - Leave this ring /get_tz - Get overview of timezones of all participants /get_file [ignitersh] - Get igniter.sh file (only when all channels are opened) For masters of ceremony /set_name [RingName] - Get Lightning channel info /set_size [RingSize] - Get Lightning channel info /import_csv [FileContents] - Import Groupnodes CSV from Cheeserobot /set_ring_mode [mode] - Set ring mode (e.g. opening_channels) /ring_group_logo [Size] [Nr] - Create a ring group logo (admins only) last parameters are balanced and country /set_order [PubKeysContents] - Reorder participants (using pubkeys.txt export from Ringtools-Web) /set_ringleader - Set Ringleader of the ring /post_message [welcome|channels] - Post welcome/channel opening message /view_channel_settings - View channel settings /set_autoclean [cmd|self] [true] - Change autoclean settings /set_greeting [text] - Set new user message /ring_greet [true/false] [cleanDelay] - Enable/disable new user greeting /update_name - Update ring name /ring_visual - Get ring visual (same as on rof.tools) /ring_group_logo_update - Update ring group logo Poll commands /poll_ring [RingName] [MaxPpl] - Create poll to join a ring (admins only) /poll_ringleader - Create poll to become ringleader (admins only) /admin_close_poll - Force close poll","title":"Overview"},{"location":"tg/overview/#overview","text":"The RingTools Telegram-bot is currently main supporting the Satoshi Radio / Connect the World Rings of Fire and therefore mainly suited as support for the process they are using. It is still is early development so commands might change.","title":"Overview"},{"location":"tg/overview/#public-commands","text":"/ping - Check if I'm alive. /donate [Sats] [Message] - Donate to Ringtools-Web Development /fullnodeaddress [PubKey] - Get full address of lightning node /nodeinfo [PubKey] - Get Lightning node info /chaninfo [ChannelID] - Get Lightning channel info","title":"Public commands"},{"location":"tg/overview/#ring-group-commands","text":"","title":"Ring-group commands"},{"location":"tg/overview/#for-all-ring-participants","text":"/ringurl - Get ring-specific link for Ringtools-Web /ring_channels - Get overview of channels /node_overview_csv - Export Groupnodes CSV /node_overview - Ring participant overview","title":"For all ring participants"},{"location":"tg/overview/#for-individual-ring-participants","text":"/participate [PubKey] - Join this ring (if you don't have any channels, use your full node URI) /unparticipate - Leave this ring /set_funded - Confirm you are funded /set_country [CountryCode] - Set your country to #connect_the_world (e.g. NL or US) /unparticipate - Leave this ring /get_tz - Get overview of timezones of all participants /get_file [ignitersh] - Get igniter.sh file (only when all channels are opened)","title":"For individual ring participants"},{"location":"tg/overview/#for-masters-of-ceremony","text":"/set_name [RingName] - Get Lightning channel info /set_size [RingSize] - Get Lightning channel info /import_csv [FileContents] - Import Groupnodes CSV from Cheeserobot /set_ring_mode [mode] - Set ring mode (e.g. opening_channels) /ring_group_logo [Size] [Nr] - Create a ring group logo (admins only) last parameters are balanced and country /set_order [PubKeysContents] - Reorder participants (using pubkeys.txt export from Ringtools-Web) /set_ringleader - Set Ringleader of the ring /post_message [welcome|channels] - Post welcome/channel opening message /view_channel_settings - View channel settings /set_autoclean [cmd|self] [true] - Change autoclean settings /set_greeting [text] - Set new user message /ring_greet [true/false] [cleanDelay] - Enable/disable new user greeting /update_name - Update ring name /ring_visual - Get ring visual (same as on rof.tools) /ring_group_logo_update - Update ring group logo","title":"For masters of ceremony"},{"location":"tg/overview/#poll-commands","text":"/poll_ring [RingName] [MaxPpl] - Create poll to join a ring (admins only) /poll_ringleader - Create poll to become ringleader (admins only) /admin_close_poll - Force close poll","title":"Poll commands"},{"location":"tg/participate/","text":"Participants Participate in ring Signal your participation with /participate [PubKey] (e.g. /participate 0380b3dbdf090cacee19eb4dc7a82630bd3de8b12608dd7bee971fb3cd2a5ae2fc ) Set your country with /set_country [Country] using the 2-letter country code (e.g. /set_country nl ) Let know if/when you have the funds to open the channel /set_funded true","title":"Participants"},{"location":"tg/participate/#participants","text":"","title":"Participants"},{"location":"tg/participate/#participate-in-ring","text":"Signal your participation with /participate [PubKey] (e.g. /participate 0380b3dbdf090cacee19eb4dc7a82630bd3de8b12608dd7bee971fb3cd2a5ae2fc ) Set your country with /set_country [Country] using the 2-letter country code (e.g. /set_country nl ) Let know if/when you have the funds to open the channel /set_funded true","title":"Participate in ring"},{"location":"web/","text":"Hello","title":"Hello"},{"location":"web/#hello","text":"","title":"Hello"},{"location":"web/local-install/","text":"Local Instance To use RingTools-web on your own machine, you also need a backend. Instructions Install dependencies with yarn install Configure settings by modifying .env Make sure custom custom LND PubSub server is running Start development server with yarn start Navigate to http://localhost:4200/ Umbrel Required modification of lnd.conf when using Umbrel When using Umbrel, LND is configured to only accept connections of other dockerized applications. This is very secure, but makes it impossible to connect to outside of the Umbrel docker network. To use this web-application using dsbaars/srrof-lnd-pubsub-python you need to reconfigure your LND instance so it will accept connections from your LAN. Alternatively you could add the LND PubSub Server to the existing Umbrel network but that is likely to break when you are updating Umbrel. Warning : Although in my opinion this is a safe modification, do not trust me blindly. Please understand the basics of what the effects of this modification are. Proceed at your own risk. The LND gRPC API Reference and the Imports and Client section of the Python information should help you understand. At the time of writing this documentation, two things are needed in order to make a gRPC request to an lnd instance: a TLS/SSL connection and a macaroon used for RPC authentication. Note that when an IP address is used to connect to the node (e.g. 192.168.1.21 instead of localhost) you need to add --tlsextraip=192.168.1.21 to your lnd configuration and re-generate the certificate (delete tls.cert and tls.key and restart lnd). What you are doing will regenerate your TLS certificates so it will include the IP-address and the hostname of your umbrel node. Important : Although both the certificate and the private key are regenerated, you only need the certificate itself. If you are going to run the PubSub server externally, you only need to copy tls.cert and the readonly.macaroon . Instructions Note : You will have to restart LND to apply the changes. Make a backup of your lnd.conf cd ~/umbrel/lnd cp lnd.conf lnd.conf.bak Open the text editor (e.g. nano ~/umbrel/lnd/lnd.conf of your choice and add tlsextraip=<your ip> below the existing tlsextraip= line. Just below the new entry, add another tlsextradomain= entry so it contains two entries in total: tlsextradomain=umbrel.local tlsextradomain=umbrel Save and close the text editor Restart lnd cd ~/umbrel docker-compose restart lnd Wait until your node comes up again and that Umbrel still works, if not copy back the backpu config file and try again. You can verify that multiple tlsextraip and tlsextradomain are allowed at Line 44 of the sample config . Also you can read that tlsautorefresh=1 automatically regenerates the necessary files, so although stated in their own guide, no deletion is required. You might need to restart other Umbrel services since the TLS certificate is probably used by other Umbrel apps as well.","title":"Local Instance"},{"location":"web/local-install/#local-instance","text":"To use RingTools-web on your own machine, you also need a backend.","title":"Local Instance"},{"location":"web/local-install/#instructions","text":"Install dependencies with yarn install Configure settings by modifying .env Make sure custom custom LND PubSub server is running Start development server with yarn start Navigate to http://localhost:4200/","title":"Instructions"},{"location":"web/local-install/#umbrel","text":"","title":"Umbrel"},{"location":"web/local-install/#required-modification-of-lndconf-when-using-umbrel","text":"When using Umbrel, LND is configured to only accept connections of other dockerized applications. This is very secure, but makes it impossible to connect to outside of the Umbrel docker network. To use this web-application using dsbaars/srrof-lnd-pubsub-python you need to reconfigure your LND instance so it will accept connections from your LAN. Alternatively you could add the LND PubSub Server to the existing Umbrel network but that is likely to break when you are updating Umbrel. Warning : Although in my opinion this is a safe modification, do not trust me blindly. Please understand the basics of what the effects of this modification are. Proceed at your own risk. The LND gRPC API Reference and the Imports and Client section of the Python information should help you understand. At the time of writing this documentation, two things are needed in order to make a gRPC request to an lnd instance: a TLS/SSL connection and a macaroon used for RPC authentication. Note that when an IP address is used to connect to the node (e.g. 192.168.1.21 instead of localhost) you need to add --tlsextraip=192.168.1.21 to your lnd configuration and re-generate the certificate (delete tls.cert and tls.key and restart lnd). What you are doing will regenerate your TLS certificates so it will include the IP-address and the hostname of your umbrel node. Important : Although both the certificate and the private key are regenerated, you only need the certificate itself. If you are going to run the PubSub server externally, you only need to copy tls.cert and the readonly.macaroon .","title":"Required modification of lnd.conf when using Umbrel"},{"location":"web/local-install/#instructions_1","text":"Note : You will have to restart LND to apply the changes. Make a backup of your lnd.conf cd ~/umbrel/lnd cp lnd.conf lnd.conf.bak Open the text editor (e.g. nano ~/umbrel/lnd/lnd.conf of your choice and add tlsextraip=<your ip> below the existing tlsextraip= line. Just below the new entry, add another tlsextradomain= entry so it contains two entries in total: tlsextradomain=umbrel.local tlsextradomain=umbrel Save and close the text editor Restart lnd cd ~/umbrel docker-compose restart lnd Wait until your node comes up again and that Umbrel still works, if not copy back the backpu config file and try again. You can verify that multiple tlsextraip and tlsextradomain are allowed at Line 44 of the sample config . Also you can read that tlsautorefresh=1 automatically regenerates the necessary files, so although stated in their own guide, no deletion is required. You might need to restart other Umbrel services since the TLS certificate is probably used by other Umbrel apps as well.","title":"Instructions"}]}